{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="split-screen">
    <!-- Left Sides: Inspiration -->
    <div class="split-left">
        <div style="margin-bottom: 2rem;">
            <img src="{% static 'images/img1.png' %}" alt="Platter to Purpose Logo"
                style="height: 80px; background: white; padding: 10px; border-radius: 50%;">
        </div>
        <h2>Be the Change.</h2>
        <p>Join our community of 500+ donors and care homes bridging the gap between surplus and scarcity.</p>

        <ul class="feature-list">
            <li>Save Surplus Food</li>
            <li>Feed Hungry Lives</li>
            <li>Track Your Impact</li>
            <li>Zero Food Waste</li>
        </ul>
    </div>

    <!-- Right Side: The Form -->
    <div class="split-right">
        <h2 style="margin-bottom: 30px; color: var(--dark);">Create Account</h2>

        <form method="post">
            {% csrf_token %}

            <!-- Custom Role Selector -->
            <label style="margin-bottom: 12px; display: block; font-weight: 500;">I am a...</label>
            <div class="role-selection">
                <label class="role-option">
                    <input type="radio" name="role" value="HOTEL" checked>
                    <div class="role-card">
                        <span class="role-icon">üè®</span>
                        <span class="role-label">Hotel / Donor</span>
                    </div>
                </label>

                <label class="role-option">
                    <input type="radio" name="role" value="ORPHANAGE">
                    <div class="role-card">
                        <span class="role-icon">üè†</span>
                        <span class="role-label">Orphanage</span>
                    </div>
                </label>
            </div>

            <!-- Manually render other fields -->
            {% for field in form %}
            {% if field.name != 'role' %}
            <div class="form-group">
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                {{ field }}
                {% if field.help_text %}
                <small style="color: grey;">{{ field.help_text }}</small>
                {% endif %}
                {% for error in field.errors %}
                <div style="color: red; font-size: 0.8rem;">{{ error }}</div>
                {% endfor %}
            </div>
            {% endif %}
            {% endfor %}

            <button type="submit" class="btn"
                style="width: 100%; margin-top: 10px; padding: 16px; font-size: 1.1rem;">Start My Journey</button>

            <p style="text-align: center; margin-top: 24px; color: #666;">
                Already have an account? <a href="{% url 'login' %}"
                    style="color: var(--primary); font-weight: 600;">Login</a>
            </p>
        </form>
    </div>
</div>
{% endblock %}